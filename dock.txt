package com.example.myapp.service;

import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import org.springframework.stereotype.Service;

import java.io.IOException;
import java.net.URI;
import java.net.URISyntaxException;
import java.net.URL;
import java.nio.file.Path;
import java.nio.file.Paths;

@Service
public class MyService {

    private static final Logger logger = LoggerFactory.getLogger(MyService.class);

    public void loadResource() {
        try {
            // Using ClassLoader to get the resource URL
            URL resourceUrl = getClass().getClassLoader().getResource("abc.csv");
            if (resourceUrl == null) {
                throw new IOException("Resource not found: abc.csv");
            }

            // Convert URL to URI
            URI uri = resourceUrl.toURI();
            System.out.println("URI: " + uri);

            // Use the URI with the Path class
            Path path = Paths.get(uri);
            System.out.println("Path: " + path);

            // Example usage with Files.readAllLines
            // List<String> lines = Files.readAllLines(path);
            // lines.forEach(System.out::println);

        } catch (IOException | URISyntaxException e) {
            logger.error("Failed to load resource", e);
        }
    }
}
