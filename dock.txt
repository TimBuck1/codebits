version: '3.8'

services:
  performance-app:
    image: your-docker-registry/performance-app:latest
    environment:
      JAVA_OPTS: "-Dspring.jmx.enabled=true -Dcom.sun.management.jmxremote=true -Dcom.sun.management.jmxremote.port=${JMX_PORT} -Dcom.sun.management.jmxremote.rmi.port=${JMX_RMI_PORT} -Dcom.sun.management.jmxremote.authenticate=false -Dcom.sun.management.jmxremote.ssl=false -Dcom.sun.management.jmxremote.local.only=false -Djava.rmi.server.hostname=${YOUR_HOST_IP}"
    ports:
      - "${JMX_PORT}:${JMX_PORT}"
      - "${JMX_RMI_PORT}:${JMX_RMI_PORT}"
  tax-app:
    image: your-docker-registry/tax-app:latest
    environment:
      JAVA_OPTS: "-Dspring.jmx.enabled=true -Dcom.sun.management.jmxremote=true -Dcom.sun.management.jmxremote.port=${JMX_PORT} -Dcom.sun.management.jmxremote.rmi.port=${JMX_RMI_PORT} -Dcom.sun.management.jmxremote.authenticate=false -Dcom.sun.management.jmxremote.ssl=false -Dcom.sun.management.jmxremote.local.only=false -Djava.rmi.server.hostname=${YOUR_HOST_IP}"
    ports:
      - "${JMX_PORT}:${JMX_PORT}"
      - "${JMX_RMI_PORT}:${JMX_RMI_PORT}"
